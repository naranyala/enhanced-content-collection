---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro'

import { getCollection } from 'astro:content';
import { enhanceContentCollection } from '../lib/utils/markdown'

const demoCollection = await getCollection("en-demo")
const finalCollection = enhanceContentCollection(demoCollection)
// console.log(demoCollection)
// console.log(finalCollection)

--- 

<Layout title="Enhance Content Collection">
  <PageHeader finalCollection={finalCollection}/>

	<main>
		<h2 class="text-2xl ml-4 font-bold">Content Collection Result</h2>
		<p class="ml-4 mb-4">see the new "headings" array from each content</p>
		<span class="text-xl ml-4">from this:</span>
		<small><pre class="bg-gray-300 rounded-lg m-4 p-4 overflow-x-auto">{JSON.stringify(demoCollection, null, 2)}</pre></small>

	
		<span class="text-xl ml-4">to this:</span>
		<small><pre class="bg-gray-300 rounded-lg m-4 p-4 overflow-x-auto">{JSON.stringify(finalCollection, null, 2)}</pre></small>
	</main>

</Layout>

